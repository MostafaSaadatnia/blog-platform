@use './material-theme';

:root {
  --app-radius: 14px;
  --app-border: 1px solid rgba(0, 0, 0, 0.08);
  --app-border-strong: 1px solid rgba(0, 0, 0, 0.14);
  --app-surface: #fff;
  --app-surface-alt: #f6f7f9;
}
.dark-theme {
  --app-surface: #121316; /* card surface (already in your code) */
  --app-surface-alt: #191b1f; /* panel surface (already in your code) */
  background-color: #191b1f; /* new: dark background for page */
  color: #e0e0e0; /* new: light text color for dark mode */
}

/* Surfaces */
.surface-card {
  background: var(--app-surface);
  border: var(--app-border);
  border-radius: var(--app-radius);
}
.surface-panel {
  background: var(--app-surface-alt);
  border: var(--app-border);
  border-radius: var(--app-radius);
}

/* App scaffold */
.app-container {
  max-width: 1200px;
  margin-inline: auto;
  padding: 16px;
}
.app-toolbar {
  position: sticky;
  top: 0;
  z-index: 10;
  border-bottom: var(--app-border);
  backdrop-filter: saturate(120%) blur(6px);
}
.app-main {
  padding-block: 16px 32px;
}

/* Subtle component polish */
.mat-mdc-card,
.mdc-card {
  border-radius: var(--app-radius);
}
.mat-mdc-paginator {
  border-radius: var(--app-radius);
  border: var(--app-border);
  background: var(--app-surface);
}
.mat-mdc-paginator-container {
  padding-inline: 12px !important;
}

/* Fix double borders inside Angular Material form fields */
.mdc-text-field__input,
.mat-mdc-input-element,
.mat-mdc-chip-input {
  border: 0 !important;
  background: transparent !important;
  box-shadow: none !important;
  outline: none !important;
}

/* Keep outline shape crisp */
.mdc-text-field--outlined {
  border-radius: var(--app-radius);
}
.mdc-notched-outline__leading,
.mdc-notched-outline__notch,
.mdc-notched-outline__trailing {
  border-color: inherit; /* uses themed color */
}

/* Textarea polish */
textarea.mat-mdc-input-element {
  resize: vertical;
}

/* Chip grid input aligns with Material */
.mat-mdc-chip-grid .mat-mdc-input-element {
  padding-top: 8px;
  padding-bottom: 8px;
}

.mdc-notched-outline__notch {
  border-right: none !important; /* Remove any border (style, width) set by Tailwind */
}

.mdc-text-field--focused .mdc-notched-outline__leading,
.mdc-text-field--focused .mdc-notched-outline__notch,
.mdc-text-field--focused .mdc-notched-outline__trailing {
  border-right: none !important;
}

/* Ensure outline border uses the theme's border color */
.mdc-text-field--outlined .mdc-notched-outline__leading,
.mdc-text-field--outlined .mdc-notched-outline__notch,
.mdc-text-field--outlined .mdc-notched-outline__trailing {
  border-color: var(--app-border-color) !important;
  /* If Tailwind set border-style, we keep it solid but unify color */
  /* Optionally, set border-width: 1px here for consistency */
}

.mdc-notched-outline__leading,
.mdc-notched-outline__notch,
.mdc-notched-outline__trailing {
  border-width: 1px;
}
.mdc-text-field--focused .mdc-notched-outline__leading,
.mdc-text-field--focused .mdc-notched-outline__notch,
.mdc-text-field--focused .mdc-notched-outline__trailing {
  border-width: 2px;
}

/* Prose style for markdown */
.prose {
  line-height: 1.7;
  color: inherit;
}
.prose h1,
.prose h2,
.prose h3 {
  font-weight: 700;
  letter-spacing: -0.01em;
  margin: 1.2em 0 0.6em;
}
.prose h1 {
  font-size: 1.75rem;
}
.prose h2 {
  font-size: 1.35rem;
}
.prose h3 {
  font-size: 1.15rem;
}

.prose p,
.prose ul,
.prose ol,
.prose blockquote,
.prose pre {
  margin: 0.75rem 0;
}
.prose ul {
  padding-left: 1.25rem;
  list-style: disc;
}
.prose ol {
  padding-left: 1.25rem;
  list-style: decimal;
}

.prose blockquote {
  padding: 0.5rem 0.75rem;
  border-left: 4px solid currentColor;
  opacity: 0.8;
}
.prose code {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', monospace;
  font-size: 0.92em;
  background: color-mix(in srgb, currentColor 8%, transparent);
  padding: 0.1rem 0.35rem;
  border-radius: 0.35rem;
}
.prose pre {
  background: color-mix(in srgb, currentColor 8%, transparent);
  padding: 0.75rem;
  border-radius: 0.5rem;
  overflow: auto;
}
.prose img,
.prose video {
  max-width: 100%;
  height: auto;
  border-radius: 0.5rem;
  display: block;
  margin: 0.75rem 0;
}

.dark-theme .prose blockquote,
.dark-theme .prose pre,
.dark-theme .prose code {
  background: color-mix(in srgb, white 6%, transparent);
}
